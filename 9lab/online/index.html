<!DOCTYPE HTML>
<html>

<head>
    <meta charset="utf-8">
    <meta name="keywords" content="php,jquery,在线用户" />
    <meta name="description" content="Helloweba演示平台，演示XHTML、CSS、jquery、PHP案例和示例" />
    <title>PHP+MySQL+jQuery统计当前在线用户数</title>
    
    <link rel="stylesheet" type="text/css" href="../css/main.css" />
    <style type="text/css">
        .demo { width: 150px; margin: 20px auto; font-size: 14px }
        #total { padding: 6px 10px; background: #090 url(arr.png) no-repeat right top; color: #fff; cursor: pointer; -moz-border-radius: 5px; -webkit-border-radius: 5px; border-radius: 5px; -moz-box-shadow: 0 0 3px #ccc; -webkit-box-shadow: 0 0 3px #ccc; box-shadow: 0 0 3px #ccc; }
        #onlinelist { background: #f7f7f7; border: 1px solid #d3d3d3; display: none; -moz-border-radius: 5px; -webkit-border-radius: 5px; border-radius: 5px; -moz-box-shadow: 0 0 3px #ccc; -webkit-box-shadow: 0 0 3px #ccc; box-shadow: 0 0 3px #ccc; }
        #onlinelist li { height: 20px; line-height: 20px; padding: 4px 6px; border-bottom: 1px dotted #d9d9d9 }
        #onlinelist li span { float: right }
        #onlinelist li:hover { background: #fff }
    </style>

    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script type="text/javascript">
    $(function() {
        $("#onlinenum").load("online.php");
        $(".demo").hover(function() {
            $("#onlinelist").slideDown("fast");
            var str = '';
            $.getJSON("geo.php", function(json) {
                $.each(json, function(index, array) {
                    str = str + "<li><span>" + array['total'] + "</span>" + array['province'] + "</li>";
                });
                $("#onlinelist").html(str);
            });
        }, function() {
            $("#onlinelist").slideUp("fast");
        });
    });
    </script>
</head>

<body>
    <div id="header">
        <div id="logo">
            <h1><a href="http://www.helloweba.com" title="返回helloweba首页">helloweba</a></h1>
        </div>
    </div>
    <div id="main">
        <h2 class="top_title"><a href="http://www.helloweba.com/view-blog-206.html" title="点击看教程">PHP+MySQL+jQuery统计当前在线用户数</a></h2>
        <div class="demo">
            <div id="total">当前在线：<span id="onlinenum"></span></div>
            <ul id="onlinelist">
                <li><img src="loader.gif"></li>
            </ul>
        </div>
        <br /><br />
        <div class="ad_demo">
            <script src="/js/ad_js/ad_demo.js" type="text/javascript"></script>
        </div><br />
    </div>
    <div id="footer">
        <p>Powered by helloweba.com 允许转载、修改和使用本站的DEMO，但请注明出处：<a href="http://www.helloweba.com">www.helloweba.com</a></p>
    </div>
    <p id="stat">
        <script type="text/javascript" src="http://js.tongji.linezing.com/1870888/tongji.js"></script>
    </p>
</body>

</html>