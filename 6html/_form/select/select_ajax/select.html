<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
	<title>获取select下拉值</title>
	<script language="javascript" type="text/javascript" src="../../_assets/static/js/jquery-1.11.0.min.js"></script>
	<script type="text/javascript" src="../../_assets/static/plugin/TencentUED/msgbox.js"></script>
	<link rel="stylesheet" type="text/css" href="../../_assets/static/plugin/TencentUED/msgbox.css">

	<style type="text/css">
		/**{margin: 0px;padding: 0px;}*/
		#hid{width:100px;height:100px;background-color:#CCC;color:#009241;text-align: center;line-height: 100px;}
		input{width: 200px;height: 30px;border: 1px #CCC solid}
		#show{font-size: 72px;color:#F00;}
	</style>
</head>
<body>
<form>
	<select name="sel" id="sel" >
		<option value="a" >a</option>
		<option value="b" selected >b</option>
		<option value="c" >c</option>
	</select><br>
	<input type="text" name="info" value="ok" id="info" /><br>
	<ins>ins自动加下划线</ins><br><br><br>
	<div id="hid" ppd="2">获取</div>
</form>
<span id="show"></span>
</body>
<script type="text/javascript">
$(function(){
	$("#hid").click(function(){
		var select = document.getElementById('sel');
		// alert( select.value );

		// var info = $("input[name='info']:text").val();
		// var info = $("#info").val();
		// alert(info);
		// $(this).html(info);
		// $(this).text(info);

		// var ppd = $(this).attr("ppd");
		// alert(ppd);

		$.ajax({
			url:"ajax.php",
			type:"POST",
			// dataType:json,
			data:{sel:select.value},
			success:function(msg){
				// alert(msg);
				// $('span').text(msg);
				if (msg=='a') {
					clickautohide(1);
				} else if (msg=='b') {
					clickautohide(4);
				}else{
					clickautohide(5);
				}
				// $('span').text(msg);
			}
		})
	});
});

function clickautohide(i){
	var tip = "";
	switch(i){
		case 1:
			tip = "服务器繁忙，请稍后再试。";
		break;
		case 4:
			tip = "设置成功！";
		break;
		case 5:
			tip = "数据拉取失败";
		break;
		case 6:
			tip = "正在加载中，请稍后...";
		break;
	}
	ZENG.msgbox.show(tip, i, 1000);
}
</script>
</html>