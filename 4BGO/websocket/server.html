
<!-- <script src="https://cdn.bootcss.com/require.js/2.3.6/require.js"></script> -->
<script src="require.js"></script>
<script type="text/javascript">
// 服务器端 nodejs 需要提前安装ws模块：npm install ws
let Server = require("ws").Server;
let wss = new Server({
    port: 2000
});
wss.on("connection", function (ws) {
    ws.on("message", function (data) {
        ws.send("服务器时间：" + new Date() + " => " + data); // 一个send方法就会触发前端的message事件
        // ws.send(JSON.stringify({"name": "test"}));
    });
    ws.on("close", function () {
        console.log("close websocket。");
    });
});
</script>