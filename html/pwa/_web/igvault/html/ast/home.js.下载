(function($){HS.namespace('HS.page.hm');HS.page.hm.init=function(){this.loadImageFirst();this.custom();this.pjgd();this.flgd();}
HS.page.hm.flgd=function(){var mainH=$(".main-ct-home").height();var hotH=$(".hot-pp").height();var disH=mainH-hotH;console.log(disH)
if($('.fl-list .li-list').length<50){$('.fl-gd-box').removeClass('box-50');$('.fl-list .li-list').bindHSUI('ElementHover',{hoverClass:'fl-li-hover'});}else{$('.fl-gd-box').addClass('box-50');$('.fl-gd-box').css("height",disH-5);$('.fl-btn').show();$('.fl-list .li-list').hover(function(){$(this).addClass('fl-li-hover');$(this).parents('.fl-gd-box').css({'width':'500px'});if($(this).offset().top>1896){$(this).find('.menu-list-ul').addClass('menu-list-ul50');}else{$(this).find('.menu-list-ul').removeClass('menu-list-ul50');};},function(){$(this).removeClass('fl-li-hover');$(this).parents('.fl-gd-box').css("width","");$(this).find('.menu-list-ul').removeClass('menu-list-ul50');})
$('.fl-list').bindHSUI('SlideByPage',{pagesize:50,items:'.fl-gd-box .ul-box',btnPrev:'.btn-pre',btnNext:'.btn-next',autoslide:false,direction:'up',unitwidth:30,delay:3});}}
HS.page.hm.pjgd=function(){HS.load.add('roll',{js:'js/lib/roll.js'});HS.load('roll',function(){var roll_jQuery,contents;roll_jQuery=$.roll('.pj_roll_ct','#pj_roll_box',{effect:'scrollY',duration:40,delay:500}).rollRun();contents=$('.pj_roll_ct');contents.bind('mouseenter',function(){roll_jQuery.rollStop();});contents.bind('mouseleave',function(){roll_jQuery.rollRun();});})}
HS.page.hm.loadImageFirst=function(){$('.main-ct-banner li:first img[original]').each(function(){var imgElm=$(this);imgElm.attr('src',imgElm.attr('original')).removeAttr('original');});setTimeout(function(){$('.main-ct-banner img[original]').each(function(){$(this).bindHSUI('LoadRealImage',{srcAttr:'original'});});},5000);};HS.page.hm.imgDelayLoad=function(){$('.e-imageload').bindHSUI('DelayLoadImage',{preloadHeight:100,eventClass:'e-imageload'});};HS.page.hm.custom=function(){$('#ad_djs').bindHSUI('CountDown',{callback:function(elm){}});$('.main-ct-banner').addClass('e-imageload').bindHSUI('SlideBox',{items:'ul',action:'mouseover',direction:'top',delay:5,duration:0.8,animate:'fade',callback:function(){HS.page.hm.imgDelayLoad();}});$('.btn-mor').click(function(){$(this).next('.btn-mor-box').slideToggle();return false;});var lazyload=function(target){target.find('img.lazyload').each(function(i,o){if($(o).attr('src')!=$(o).attr('data-original')){$(o).attr('src',$(o).attr('data-original'));}});};$('.tt-tab1 h3 a').bindHSUI('SwitchTabs',{action:'click',tabClass:'on',child:'.ct-tab1',callback:lazyload});$('.tt-tab2 h3 a').bindHSUI('SwitchTabs',{action:'click',tabClass:'on',child:'.ct-tab2 ul',callback:lazyload});$('.tt-tab3 h3 a').bindHSUI('SwitchTabs',{action:'click',tabClass:'on',child:'.ct-tab3 ul',callback:lazyload});$('.ct-tab2 li,.ct-tab3 li').hover(function(){$(this).addClass('li-hover');},function(){$(this).removeClass('li-hover');});$('.other-pay-box').bindHSUI('ElementHover',{hoverClass:'other-pay-box-hover'});$('.other-pay-box').find('.menu-list-box-dropdown').mouseover(function(){$(this).find('img.lazyload').each(function(i,o){if($(o).attr('src')!=$(o).attr('data-original')){$(o).attr('src',$(o).attr('data-original'));}});});$('.fl-list .li-list').bindHSUI('ElementHover',{hoverClass:'fl-li-hover'});$('.slid-box').bindHSUI('SlideByPage',{pagesize:1,items:'.slid-list-box  .slid-list ul',pageElm:'.btn-on',btnPrev:'.btn-pre',btnNext:'.btn-next',autoslide:true,direction:'left',unitwidth:240,delay:3,callback:function(target){target.find('img.lazyload').each(function(i,o){if($(o).attr('src')!=$(o).attr('data-original')){$(o).attr('src',$(o).attr('data-original'));}});}});$('.btn-frame').bindHSUI('PopDialogWin',{callback:function(){$(document).click(function(){HS.page.show({title:'',id:'#addfavtips'});});}});$('.icon-addlike').click(function(){HS.page.popbox({content:'<div class="w405 bor-c h40 ra5 bg-f p20"><h1 class="bold f14 fl">Favorites can be purchased through the collection of merchandise quickly.</h1><a href="#" class="fr" id="closePopbox">X</a></div>',callback:function(elm){elm.find('#closePopbox').click(function(){HS.util.popbox.close();return false;});setTimeout(function(){HS.util.overlayer.hideLayer();HS.util.popbox.close();},3000);}});return false;});$('.game-db-cdkey .pro-name').each(function(){$clamp(this,{clamp:2});});}
$(function(){HS.page.hm.init();})})(jQuery)